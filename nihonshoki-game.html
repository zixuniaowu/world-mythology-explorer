<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êó•Êú¨Êõ∏Á¥Ä„ÇØ„Ç®„Çπ„Éà - Ê≠¥Âè≤Êé¢Á¥¢„Ç≤„Éº„É†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', 'MS Mincho', sans-serif;
            background: linear-gradient(135deg, #2c1810 0%, #4a2c1f 100%);
            color: #f5e6d3;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* „Ç≤„Éº„É†„Ç≥„É≥„ÉÜ„Éä */
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* „Éò„ÉÉ„ÉÄ„Éº */
        .game-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 2px solid #d4a574;
        }

        .game-title {
            font-size: 3em;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
            font-family: 'MS Mincho', serif;
        }

        .game-subtitle {
            font-size: 1.3em;
            color: #d4a574;
        }

        /* „Ç≤„Éº„É†„Éú„Éº„Éâ */
        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }

        /* ÊôÇ‰ª£„Ç´„Éº„Éâ */
        .era-card {
            background: linear-gradient(135deg, #4a2c1f 0%, #6b3e2a 100%);
            border: 3px solid #d4a574;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .era-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.2) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .era-card:hover::before {
            opacity: 1;
        }

        .era-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .era-card.completed {
            background: linear-gradient(135deg, #2d5016 0%, #3d6b1f 100%);
            border-color: #4caf50;
        }

        .era-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .era-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .era-name {
            font-size: 1.2em;
            color: #ffd700;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .era-period {
            font-size: 0.9em;
            color: #d4a574;
        }

        /* „ÇØ„Ç§„Ç∫„É¢„Éº„ÉÄ„É´ */
        .quiz-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .quiz-content {
            max-width: 800px;
            margin: 50px auto;
            background: linear-gradient(135deg, #2c1810 0%, #4a2c1f 100%);
            border: 3px solid #d4a574;
            border-radius: 15px;
            padding: 30px;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 2em;
            color: #d4a574;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #ffd700;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-title {
            font-size: 2em;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .question-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.3em;
            color: #f5e6d3;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .answer-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .answer-btn {
            background: linear-gradient(135deg, #6b3e2a 0%, #8b5a3c 100%);
            border: 2px solid #d4a574;
            color: #f5e6d3;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .answer-btn:hover {
            background: linear-gradient(135deg, #8b5a3c 0%, #a0714d 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 165, 116, 0.3);
        }

        .answer-btn.correct {
            background: linear-gradient(135deg, #2d5016 0%, #3d6b1f 100%);
            border-color: #4caf50;
        }

        .answer-btn.incorrect {
            background: linear-gradient(135deg, #5d1616 0%, #7d2020 100%);
            border-color: #f44336;
        }

        /* ÈÄ≤Ë°åÁä∂Ê≥Å */
        .progress-bar {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 25px;
            padding: 5px;
            margin-bottom: 30px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #d4a574 0%, #ffd700 100%);
            height: 30px;
            border-radius: 20px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #2c1810;
        }

        /* „Çπ„Ç≥„Ç¢Ë°®Á§∫ */
        .score-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4a2c1f 0%, #6b3e2a 100%);
            border: 2px solid #d4a574;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.2em;
            color: #ffd700;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        /* Êàª„Çã„Éú„Çø„É≥ */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background: linear-gradient(135deg, #4a2c1f 0%, #6b3e2a 100%);
            color: #ffd700;
            border: 2px solid #d4a574;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: linear-gradient(135deg, #6b3e2a 0%, #8b5a3c 100%);
            transform: translateY(-2px);
        }

        /* ÁµêÊûúÁîªÈù¢ */
        .result-screen {
            text-align: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-top: 30px;
        }

        .result-title {
            font-size: 2.5em;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .result-text {
            font-size: 1.2em;
            color: #d4a574;
            margin-bottom: 30px;
        }

        .next-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #d4a574 0%, #ffd700 100%);
            color: #2c1810;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        }

        /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ */
        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .answer-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="japanese-mythology-index.html" class="back-button">‚Üê Êàª„Çã</a>
    <div class="score-display">„Çπ„Ç≥„Ç¢: <span id="score">0</span></div>
    
    <div class="game-container">
        <div class="game-header">
            <h1 class="game-title">Êó•Êú¨Êõ∏Á¥Ä„ÇØ„Ç®„Çπ„Éà</h1>
            <p class="game-subtitle">Êó•Êú¨„ÅÆÊ≠¥Âè≤„Å®Á•ûË©±„ÇíÂ∑°„ÇãÊôÇÁ©∫„ÅÆÊóÖ</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar" style="width: 0%">
                ÈÄ≤Ë°åÂ∫¶: 0%
            </div>
        </div>

        <div class="game-board" id="gameBoard">
            <!-- ÊôÇ‰ª£„Ç´„Éº„Éâ„ÅåÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Çã -->
        </div>
    </div>

    <!-- „ÇØ„Ç§„Ç∫„É¢„Éº„ÉÄ„É´ -->
    <div class="quiz-modal" id="quizModal">
        <div class="quiz-content">
            <span class="close-btn" onclick="closeQuiz()">&times;</span>
            <div class="quiz-header">
                <h2 class="quiz-title" id="quizTitle">Á•û‰ª£„ÅÆÊôÇ‰ª£</h2>
            </div>
            
            <div class="question-container">
                <p class="question-text" id="questionText">
                    „Åì„Åì„Å´Ë≥™Âïè„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô
                </p>
                <div class="answer-options" id="answerOptions">
                    <!-- ÂõûÁ≠î„Ç™„Éó„Ç∑„Éß„É≥„ÅåÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Çã -->
                </div>
            </div>
            
            <div class="result-screen" id="resultScreen" style="display: none;">
                <h3 class="result-title" id="resultTitle">Ê≠£Ëß£ÔºÅ</h3>
                <p class="result-text" id="resultText">
                    Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅ„ÅÇ„Å™„Åü„ÅØÁ•û‰ª£„ÅÆÁü•Ë≠ò„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                </p>
                <button class="next-btn" onclick="nextQuestion()">Ê¨°„Å∏ÈÄ≤„ÇÄ</button>
            </div>
        </div>
    </div>

    <script>
        // „Ç≤„Éº„É†„Éá„Éº„Çø
        const gameData = {
            currentEra: null,
            currentQuestion: 0,
            score: 0,
            completedEras: [],
            eras: [
                {
                    id: 'jindai',
                    name: 'Á•û‰ª£',
                    period: 'Â§©Âú∞ÈñãÈó¢',
                    icon: '‚õ©Ô∏è',
                    questions: [
                        {
                            text: 'Êó•Êú¨Êõ∏Á¥Ä„Å´„Çà„Çã„Å®„ÄÅÊúÄÂàù„Å´Áèæ„Çå„ÅüÁ•û„ÅØË™∞„Åß„Åó„Çá„ÅÜ„ÅãÔºü',
                            options: [
                                { text: 'ÂõΩÂ∏∏Á´ãÂ∞ä', correct: true },
                                { text: '„Ç§„Ç∂„Éä„ÇÆ', correct: false },
                                { text: 'Â§©ÁÖßÂ§ßÁ•û', correct: false },
                                { text: '„Çπ„Çµ„Éé„Ç™', correct: false }
                            ]
                        },
                        {
                            text: 'Êó•Êú¨Êõ∏Á¥Ä„Åß„ÅØ„ÄÅÊó•Êú¨„ÅÆÂõΩÂúü„ÇíÁîü„Çì„Å†Á•û„ÄÖ„ÅØÔºü',
                            options: [
                                { text: 'Â§©ÁÖßÂ§ßÁ•û„Å®ÊúàË™≠ÂëΩ', correct: false },
                                { text: '„Ç§„Ç∂„Éä„ÇÆ„Å®„Ç§„Ç∂„Éä„Éü', correct: true },
                                { text: '„Çπ„Çµ„Éé„Ç™„Å®Ê´õÂêçÁî∞Âß´', correct: false },
                                { text: 'Â§ßÂõΩ‰∏ªÁ•û„Å®Â∞ëÂΩ¶ÂêçÁ•û', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'jinmu',
                    name: 'Á•ûÊ≠¶Â§©Áöá',
                    period: 'Âàù‰ª£Â§©Áöá',
                    icon: 'üëë',
                    questions: [
                        {
                            text: 'Á•ûÊ≠¶Â§©Áöá„ÅåÂç≥‰Ωç„Åó„Åü„Å®„Åï„Çå„ÇãÂπ¥„ÅØÔºü',
                            options: [
                                { text: 'Á¥ÄÂÖÉÂâç660Âπ¥', correct: true },
                                { text: 'Á¥ÄÂÖÉÂâç550Âπ¥', correct: false },
                                { text: 'Á¥ÄÂÖÉÂâç770Âπ¥', correct: false },
                                { text: 'Á¥ÄÂÖÉÂâç880Âπ¥', correct: false }
                            ]
                        },
                        {
                            text: 'Á•ûÊ≠¶Â§©Áöá„ÅÆÊù±ÂæÅ„ÅÆÂá∫Áô∫Âú∞„ÅØÔºü',
                            options: [
                                { text: 'Âá∫Èõ≤', correct: false },
                                { text: 'Êó•Âêë', correct: true },
                                { text: 'Â§ßÂíå', correct: false },
                                { text: '‰ºäÂã¢', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'sujin',
                    name: 'Â¥áÁ•ûÂ§©Áöá',
                    period: 'Á¨¨10‰ª£Â§©Áöá',
                    icon: 'üèõÔ∏è',
                    questions: [
                        {
                            text: 'Â¥áÁ•ûÂ§©Áöá„ÅÆÊôÇ‰ª£„Å´Ëµ∑„Åç„ÅüÈáçË¶Å„Å™Âá∫Êù•‰∫ã„ÅØÔºü',
                            options: [
                                { text: '‰ªèÊïô„ÅÆ‰ºùÊù•', correct: false },
                                { text: 'ÂõõÈÅìÂ∞ÜËªç„ÅÆÊ¥æÈÅ£', correct: true },
                                { text: 'Â§ßÂåñ„ÅÆÊîπÊñ∞', correct: false },
                                { text: 'ÈÅ£Âîê‰Ωø„ÅÆÊ¥æÈÅ£', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'ojin',
                    name: 'ÂøúÁ•ûÂ§©Áöá',
                    period: 'Á¨¨15‰ª£Â§©Áöá',
                    icon: '‚öîÔ∏è',
                    questions: [
                        {
                            text: 'ÂøúÁ•ûÂ§©Áöá„ÅÆÊØçË¶™„Å®„Åó„Å¶ÊúâÂêç„Å™‰∫∫Áâ©„ÅØÔºü',
                            options: [
                                { text: 'Êé®Âè§Â§©Áöá', correct: false },
                                { text: 'ÊåÅÁµ±Â§©Áöá', correct: false },
                                { text: 'Á•ûÂäüÁöáÂêé', correct: true },
                                { text: 'ÊñâÊòéÂ§©Áöá', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'yuryaku',
                    name: 'ÈõÑÁï•Â§©Áöá',
                    period: 'Á¨¨21‰ª£Â§©Áöá',
                    icon: 'üó°Ô∏è',
                    questions: [
                        {
                            text: 'ÈõÑÁï•Â§©Áöá„ÅÆÊôÇ‰ª£„ÅÆÁâπÂæ¥„ÅØÔºü',
                            options: [
                                { text: '‰∏≠Â§ÆÈõÜÊ®©„ÅÆÂº∑Âåñ', correct: true },
                                { text: '‰ªèÊïô„ÅÆÂÖ¨‰ºù', correct: false },
                                { text: 'ÈÅ£Èöã‰Ωø„ÅÆÊ¥æÈÅ£', correct: false },
                                { text: 'Âæã‰ª§Âà∂„ÅÆÁ¢∫Á´ã', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'keitai',
                    name: 'Á∂ô‰ΩìÂ§©Áöá',
                    period: 'Á¨¨26‰ª£Â§©Áöá',
                    icon: 'üå∏',
                    questions: [
                        {
                            text: 'Á∂ô‰ΩìÂ§©Áöá„ÅÆÂç≥‰Ωç„ÅÆÁâπÂæ¥„ÅØÔºü',
                            options: [
                                { text: 'ÂπºÂ∞ë„Åß„ÅÆÂç≥‰Ωç', correct: false },
                                { text: 'Â•≥Â∏ù„Å®„Åó„Å¶Âç≥‰Ωç', correct: false },
                                { text: 'Âú∞Êñπ„Åã„ÇâËøé„Åà„Çâ„Çå„Åü', correct: true },
                                { text: 'Ë≠≤‰Ωç„Å´„Çà„ÇãÂç≥‰Ωç', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'kinmei',
                    name: 'Ê¨ΩÊòéÂ§©Áöá',
                    period: 'Á¨¨29‰ª£Â§©Áöá',
                    icon: 'üìø',
                    questions: [
                        {
                            text: 'Ê¨ΩÊòéÂ§©Áöá„ÅÆÊôÇ‰ª£„ÅÆÈáçË¶Å„Å™Âá∫Êù•‰∫ã„ÅØÔºü',
                            options: [
                                { text: 'Â§ßÂåñ„ÅÆÊîπÊñ∞', correct: false },
                                { text: '‰ªèÊïô„ÅÆÂÖ¨‰ºù', correct: true },
                                { text: 'Âπ≥ÂÆâ‰∫¨ÈÅ∑ÈÉΩ', correct: false },
                                { text: 'Ê≠¶ÂÆ∂ÊîøÊ®©„ÅÆÊàêÁ´ã', correct: false }
                            ]
                        }
                    ]
                },
                {
                    id: 'suiko',
                    name: 'Êé®Âè§Â§©Áöá',
                    period: 'Á¨¨33‰ª£Â§©Áöá',
                    icon: 'üë∏',
                    questions: [
                        {
                            text: 'Êé®Âè§Â§©Áöá„ÅÆÊëÇÊîø„Å®„Åó„Å¶ÊúâÂêç„Å™‰∫∫Áâ©„ÅØÔºü',
                            options: [
                                { text: 'ËòáÊàëÈ¶¨Â≠ê', correct: false },
                                { text: 'ËÅñÂæ≥Â§™Â≠ê', correct: true },
                                { text: 'Ëó§ÂéüÈéåË∂≥', correct: false },
                                { text: 'ËèÖÂéüÈÅìÁúü', correct: false }
                            ]
                        }
                    ]
                }
            ]
        };

        // „Ç≤„Éº„É†„Éú„Éº„Éâ„ÅÆÂàùÊúüÂåñ
        function initGameBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';
            
            gameData.eras.forEach((era, index) => {
                const card = document.createElement('div');
                card.className = 'era-card';
                
                // ÊúÄÂàù„ÅÆÊôÇ‰ª£‰ª•Â§ñ„ÅØ„É≠„ÉÉ„ÇØ
                if (index > 0 && !gameData.completedEras.includes(gameData.eras[index - 1].id)) {
                    card.classList.add('locked');
                }
                
                // ÂÆå‰∫Ü„Åó„ÅüÊôÇ‰ª£
                if (gameData.completedEras.includes(era.id)) {
                    card.classList.add('completed');
                }
                
                card.innerHTML = `
                    <div class="era-icon">${era.icon}</div>
                    <div class="era-name">${era.name}</div>
                    <div class="era-period">${era.period}</div>
                `;
                
                card.onclick = () => selectEra(era, index);
                board.appendChild(card);
            });
            
            updateProgress();
        }

        // ÊôÇ‰ª£„ÇíÈÅ∏Êäû
        function selectEra(era, index) {
            // „É≠„ÉÉ„ÇØ„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
            if (index > 0 && !gameData.completedEras.includes(gameData.eras[index - 1].id)) {
                alert('Ââç„ÅÆÊôÇ‰ª£„Çí„ÇØ„É™„Ç¢„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ');
                return;
            }
            
            // Êó¢„Å´„ÇØ„É™„Ç¢„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà
            if (gameData.completedEras.includes(era.id)) {
                alert('„Åì„ÅÆÊôÇ‰ª£„ÅØÊó¢„Å´„ÇØ„É™„Ç¢„Åó„Å¶„ÅÑ„Åæ„ÅôÔºÅ');
                return;
            }
            
            gameData.currentEra = era;
            gameData.currentQuestion = 0;
            showQuiz();
        }

        // „ÇØ„Ç§„Ç∫„ÇíË°®Á§∫
        function showQuiz() {
            const modal = document.getElementById('quizModal');
            const era = gameData.currentEra;
            const question = era.questions[gameData.currentQuestion];
            
            document.getElementById('quizTitle').textContent = `${era.name} - ${era.period}`;
            document.getElementById('questionText').textContent = question.text;
            
            // ÂõûÁ≠î„Ç™„Éó„Ç∑„Éß„É≥„ÇíÁîüÊàê
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = option.text;
                btn.onclick = () => checkAnswer(option, btn);
                optionsContainer.appendChild(btn);
            });
            
            // ÁµêÊûúÁîªÈù¢„ÇíÈö†„Åô
            document.getElementById('resultScreen').style.display = 'none';
            
            modal.style.display = 'block';
        }

        // Á≠î„Åà„Çí„ÉÅ„Çß„ÉÉ„ÇØ
        function checkAnswer(option, button) {
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => btn.onclick = null);
            
            if (option.correct) {
                button.classList.add('correct');
                gameData.score += 10;
                document.getElementById('score').textContent = gameData.score;
                showResult(true);
            } else {
                button.classList.add('incorrect');
                gameData.score = Math.max(0, gameData.score - 5);
                document.getElementById('score').textContent = gameData.score;
                
                // Ê≠£Ëß£„ÇíË°®Á§∫
                buttons.forEach(btn => {
                    if (btn.textContent === gameData.currentEra.questions[gameData.currentQuestion].options.find(o => o.correct).text) {
                        btn.classList.add('correct');
                    }
                });
                showResult(false);
            }
        }

        // ÁµêÊûú„ÇíË°®Á§∫
        function showResult(isCorrect) {
            const resultScreen = document.getElementById('resultScreen');
            const resultTitle = document.getElementById('resultTitle');
            const resultText = document.getElementById('resultText');
            
            if (isCorrect) {
                resultTitle.textContent = 'Ê≠£Ëß£ÔºÅ';
                resultText.textContent = 'Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅÊ≠¥Âè≤„ÅÆÁü•Ë≠ò„ÅåË∫´„Å´„Å§„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ';
            } else {
                resultTitle.textContent = 'ÊÉú„Åó„ÅÑÔºÅ';
                resultText.textContent = 'Ê¨°Âõû„ÅØÊ≠£Ëß£„Åß„Åç„Çã„Çà„ÅÜÈ†ëÂºµ„Çä„Åæ„Åó„Çá„ÅÜ„ÄÇ';
            }
            
            resultScreen.style.display = 'block';
        }

        // Ê¨°„ÅÆË≥™Âïè„Å∏
        function nextQuestion() {
            gameData.currentQuestion++;
            
            if (gameData.currentQuestion < gameData.currentEra.questions.length) {
                showQuiz();
            } else {
                // ÊôÇ‰ª£„ÇØ„É™„Ç¢
                gameData.completedEras.push(gameData.currentEra.id);
                closeQuiz();
                initGameBoard();
                
                if (gameData.completedEras.length === gameData.eras.length) {
                    showGameComplete();
                }
            }
        }

        // „ÇØ„Ç§„Ç∫„ÇíÈñâ„Åò„Çã
        function closeQuiz() {
            document.getElementById('quizModal').style.display = 'none';
        }

        // ÈÄ≤Ë°åÁä∂Ê≥Å„ÇíÊõ¥Êñ∞
        function updateProgress() {
            const progress = (gameData.completedEras.length / gameData.eras.length) * 100;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progress + '%';
            progressBar.textContent = `ÈÄ≤Ë°åÂ∫¶: ${Math.round(progress)}%`;
        }

        // „Ç≤„Éº„É†ÂÆå‰∫Ü
        function showGameComplete() {
            alert(`„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ\nÂÖ®„Å¶„ÅÆÊôÇ‰ª£„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„ÅüÔºÅ\nÊúÄÁµÇ„Çπ„Ç≥„Ç¢: ${gameData.score}ÁÇπ`);
        }

        // ÂàùÊúüÂåñ
        initGameBoard();
    </script>
</body>
</html>