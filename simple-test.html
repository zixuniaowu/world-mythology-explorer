<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>シンプルテスト</title>
</head>
<body>
    <h1>山海経データ読み込みテスト</h1>
    <div id="result"></div>
    
    <script>
        console.log('テスト開始');
        
        // XMLHttpRequestを使って直接ファイルを読み込む
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'shanhaijing-complete-text.js', true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                console.log('ファイル読み込み成功');
                try {
                    // スクリプトを実行
                    eval(xhr.responseText);
                    
                    if (window.SHANHAIJING_COMPLETE) {
                        document.getElementById('result').innerHTML = 
                            '<p style="color: green;">成功！ ' + 
                            Object.keys(window.SHANHAIJING_COMPLETE).length + 
                            ' 巻が読み込まれました。</p>';
                    } else {
                        document.getElementById('result').innerHTML = 
                            '<p style="color: red;">エラー：SHANHAIJING_COMPLETEが見つかりません</p>';
                    }
                } catch (e) {
                    document.getElementById('result').innerHTML = 
                        '<p style="color: red;">実行エラー：' + e.message + '</p>';
                    console.error(e);
                }
            } else {
                document.getElementById('result').innerHTML = 
                    '<p style="color: red;">ファイル読み込みエラー：' + xhr.status + '</p>';
            }
        };
        xhr.onerror = function() {
            document.getElementById('result').innerHTML = 
                '<p style="color: red;">ネットワークエラー</p>';
        };
        xhr.send();
    </script>
</body>
</html>