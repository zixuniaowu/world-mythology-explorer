<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>山海経クロニクル - Shanhai Chronicles</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="menu-styles.css">
</head>
<body>
    <div id="game-container">
        <div id="loading-screen" class="screen active">
            <div class="manga-panel">
                <h1>山海経クロニクル</h1>
                <p>ローディング中...</p>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>

        <div id="main-menu" class="screen">
            <div class="manga-panel">
                <h1 class="game-title">山海経クロニクル</h1>
                <div class="menu-options">
                    <button class="menu-btn" onclick="game.startNewGame()">新しい冒険</button>
                    <button class="menu-btn" onclick="game.continueGame()">続きから</button>
                    <button class="menu-btn" onclick="game.showCollection()">図鑑</button>
                    <button class="menu-btn" onclick="game.showSettings()">設定</button>
                </div>
            </div>
        </div>

        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="player-info">
                    <span class="player-name">探索者</span>
                    <div class="hp-bar">
                        <div class="hp-fill"></div>
                        <span class="hp-text">HP: 100/100</span>
                    </div>
                    <div class="spirit-power">
                        <span>霊力: <span id="spirit-points">100</span></span>
                    </div>
                </div>
                <button class="menu-toggle" onclick="game.toggleMenu()">☰</button>
            </div>

            <div class="game-content">
                <div id="exploration-view" class="view active">
                    <div class="manga-panel exploration-panel">
                        <div id="location-image" class="location-art"></div>
                        <div class="location-info">
                            <h2 id="location-name">東の荒野</h2>
                            <p id="location-desc">神秘的な生物が住む未知の土地...</p>
                        </div>
                        <div class="action-buttons">
                            <button onclick="game.explore()">探索する</button>
                            <button onclick="game.rest()">休憩する</button>
                            <button onclick="game.openInventory()">持ち物</button>
                        </div>
                    </div>
                </div>

                <div id="encounter-view" class="view">
                    <div class="manga-panel encounter-panel">
                        <div class="creature-display">
                            <div id="creature-art" class="creature-sprite"></div>
                            <h3 id="creature-name">???</h3>
                        </div>
                        <div class="encounter-options">
                            <button onclick="game.attemptCapture()">捕獲を試みる</button>
                            <button onclick="game.battle()">戦う</button>
                            <button onclick="game.flee()">逃げる</button>
                            <button onclick="game.observe()">観察する</button>
                        </div>
                        <div id="encounter-log" class="text-log"></div>
                    </div>
                </div>

                <div id="battle-view" class="view">
                    <div class="battle-arena">
                        <div class="ally-side">
                            <div class="creature-status">
                                <h4 id="ally-name">味方</h4>
                                <div class="hp-bar small">
                                    <div class="hp-fill" id="ally-hp"></div>
                                </div>
                            </div>
                            <div class="ally-sprite"></div>
                        </div>
                        <div class="enemy-side">
                            <div class="enemy-sprite"></div>
                            <div class="creature-status">
                                <h4 id="enemy-name">敵</h4>
                                <div class="hp-bar small">
                                    <div class="hp-fill" id="enemy-hp"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="battle-controls">
                        <button onclick="game.attack()">攻撃</button>
                        <button onclick="game.useSkill()">技能</button>
                        <button onclick="game.useItem()">道具</button>
                        <button onclick="game.flee()">逃走</button>
                    </div>
                </div>
            </div>

            <div id="dialogue-box" class="manga-dialogue">
                <div class="dialogue-content">
                    <p id="dialogue-text"></p>
                </div>
                <button class="dialogue-continue" onclick="game.nextDialogue()">▼</button>
            </div>
        </div>

        <div id="collection-screen" class="screen">
            <div class="collection-header">
                <h2>山海経図鑑</h2>
                <button onclick="game.closeCollection()">閉じる</button>
            </div>
            <div class="collection-grid" id="collection-grid">
            </div>
        </div>
    </div>

    <script src="creatures.js"></script>
    <script src="locations.js"></script>
    <script src="creature-renderer.js"></script>
    <script src="illustration-system.js"></script>
    <script src="main-menu-redesign.js"></script>
    <script src="game.js"></script>
</body>
</html>